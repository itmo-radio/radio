(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[0],{19:function(t,e,a){},26:function(t,e,a){"use strict";a.r(e);var o=a(2),r=a.n(o),n=a(13),i=a.n(n),c=a(7),s=a.n(c),u=a(9),m=a(3),b=a(6),l=(a(19),a(4)),g=a(5),d=function(t,e){if(t){var a=e.current.play();void 0!==a&&a.then((function(t){e.current.play()})).catch((function(t){return console.log(t)}))}},j=a(0),p=function(t){var e=t.isPlaying,a=t.setIsPlaying,r=t.audioRef,n=t.songInfo,i=t.setSongInfo,c=t.currentSong,p=t.songs,h=t.setCurrentSong,v=t.setSongs,O=Object(o.useState)(!1),f=Object(b.a)(O,2),x=f[0],y=f[1],w=function(t){var e=p.map((function(e){return e.id,t.id,Object(m.a)(Object(m.a)({},e),{},{active:!0})}));v(e)},S={transform:"translateX(".concat(n.animationPercentage,"%)")};function k(t){return Math.floor(t/60)+":"+("0"+Math.floor(t%60)).slice(-2)}var M=function(){var t=Object(u.a)(s.a.mark((function t(a){var o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=p.findIndex((function(t){return t.id===c.id})),"skip-forward"!==a){t.next=5;break}return t.next=4,h(p[(o+1)%p.length]);case 4:w(p[(o+1)%p.length]);case 5:if("skip-back"!==a){t.next=15;break}if((o-1)%p.length!==-1){t.next=12;break}return t.next=9,h(p[p.length-1]);case 9:return w(p[p.length-1]),d(e,r),t.abrupt("return");case 12:return t.next=14,h(p[(o-1)%p.length]);case 14:w(p[(o-1)%p.length]);case 15:e&&r.current.play();case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"player",children:[Object(j.jsxs)("div",{className:"time-control",children:[Object(j.jsx)("p",{children:k(n.currentTime)}),Object(j.jsxs)("div",{style:{background:"linear-gradient(to right, ".concat(c.color[0],",").concat(c.color[1],")")},className:"track",children:[Object(j.jsx)("input",{value:n.currentTime,type:"range",max:n.duration||0,min:0,onChange:function(t){r.current.currentTime=t.target.value,i(Object(m.a)(Object(m.a)({},n),{},{currentTime:t.target.value}))}}),Object(j.jsx)("div",{style:S,className:"animate-track"})]}),Object(j.jsx)("p",{children:n.duration?k(n.duration):"0:00"})]}),Object(j.jsxs)("div",{className:"play-control",children:[Object(j.jsx)(l.a,{onClick:function(){return M("skip-back")},className:"skip-back",size:"2x",icon:g.a}),Object(j.jsx)(l.a,{onClick:function(){e?(r.current.pause(),a(!e)):(r.current.play(),a(!e))},className:"play",autoPlay:!0,size:"2x",icon:e?g.d:g.e}),Object(j.jsx)(l.a,{className:"skip-forward",size:"2x",icon:g.b,onClick:function(){return M("skip-forward")}}),Object(j.jsx)(l.a,{onClick:function(){return y(!x)},icon:g.f}),x&&Object(j.jsx)("input",{onChange:function(t){var e=t.target.value;r.current.volume=e,i(Object(m.a)(Object(m.a)({},n),{},{volume:e}))},value:n.volume,max:"1",min:"0",step:"0.01",type:"range"})]})]})},h=function(t){var e=t.currentSong,a=t.isPlaying;return Object(j.jsxs)("div",{className:"song-container",children:[Object(j.jsx)("img",{className:a?"rotateSong":"",src:e.cover,alt:""}),Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("h3",{children:e.artist})]})},v=function(t){var e=t.name,a=t.artist,o=t.cover,r=t.id,n=t.setCurrentSong,i=t.songs,c=t.audioRef,s=t.isPlaying,u=t.setSongs,b=t.active;return Object(j.jsxs)("div",{onClick:function(){var t=i.filter((function(t){return t.id===r}));n(Object(m.a)({},t[0]));var e=i.map((function(t){return t.id===r?Object(m.a)(Object(m.a)({},t),{},{active:!0}):Object(m.a)(Object(m.a)({},t),{},{active:!1})}));u(e),d(s,c)},className:"library-song ".concat(b?"selected":""),children:[Object(j.jsx)("img",{src:o,alt:""}),Object(j.jsxs)("div",{className:"song-description",children:[Object(j.jsx)("h3",{children:e}),Object(j.jsx)("h4",{children:a})]})]})},O=function(t){var e=t.songs,a=t.setCurrentSong,o=t.audioRef,r=t.isPlaying,n=t.setSongs,i=t.libraryStatus;return Object(j.jsxs)("div",{className:"library ".concat(i?"active-library":" "),children:[Object(j.jsx)("h2",{children:"Library"}),Object(j.jsx)("div",{className:"library-songs",children:e.map((function(t){return Object(j.jsx)(v,{songs:e,cover:t.cover,name:t.name,artist:t.artist,active:t.active,id:t.id,setCurrentSong:a,audioRef:o,isPlaying:r,setSongs:n},t.id)}))})]})},f=a(11),x=function(t){var e=t.setLibraryStatus,a=t.libraryStatus;return Object(j.jsxs)("nav",{children:[Object(j.jsx)("h1",{children:"ITMO Radio"}),Object(j.jsxs)("div",{className:"social-container",children:[Object(j.jsx)("p",{children:"View us on"}),Object(j.jsx)("a",{href:"https://www.youtube.com/c/itmoradio/",className:"youtube social",children:Object(j.jsx)(l.a,{icon:f.b,size:"2x"})}),Object(j.jsx)("a",{href:"https://www.instagram.com/itmo_radio/?utm_medium=copy_link",className:"insta social",children:Object(j.jsx)(l.a,{icon:f.a,size:"2x"})})]}),Object(j.jsxs)("button",{className:a?"library-active":"",onClick:function(){e(!a)},children:["History",Object(j.jsx)(l.a,{icon:g.c,size:"2x"})]})]})},y=a(28);var w=function(){return[{name:"School Memories #1",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"RJ Sobika",audio:"https://github.com/itmo-org/itmo-songs/blob/main/school%20memories%20%231.mpeg?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!0},{name:"Asku Maro",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Asku-maro.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Eswaran",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Eswaran.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Kutty Pattas",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Kutty-pattas.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Maara",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Maara.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Melody-Songs",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Melody-songss.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Melody #1",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Melody1.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Melody #2",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Melody2.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Melody #3",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Melody3.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Rakita",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Rakita.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1},{name:"Romantic-song",cover:"https://github.com/itmo-org/itmo-songs/raw/main/circle-cropped.png",artist:"",audio:"https://github.com/itmo-org/itmo-songs/blob/main/Romantic-song.mp3?raw=true",color:["#205950","#2ab3bf"],id:Object(y.a)(),active:!1}]};var S=function(){console.clear();var t=Object(o.useRef)(null),e=Object(o.useState)(w()),a=Object(b.a)(e,2),r=a[0],n=a[1],i=Object(o.useState)(r[0]),c=Object(b.a)(i,2),l=c[0],g=c[1],v=Object(o.useState)(!1),f=Object(b.a)(v,2),y=f[0],S=f[1],k=Object(o.useState)({currentTime:0,duration:0,animationPercentage:0,volume:0}),M=Object(b.a)(k,2),N=M[0],P=M[1],C=Object(o.useState)(!1),R=Object(b.a)(C,2),I=R[0],T=R[1],z=function(t){var e=t.target.currentTime,a=t.target.duration,o=Math.round(e),r=Math.round(a),n=Math.round(o/r*100);P(Object(m.a)(Object(m.a)({},N),{},{currentTime:e,duration:a,animationPercentage:n,volume:t.target.volume}))},E=function(){var e=Object(u.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.findIndex((function(t){return t.id===l.id})),e.next=3,g(r[(a+1)%r.length]);case 3:return d(y,t),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App ".concat(I?"library-active":""),children:[Object(j.jsx)(x,{libraryStatus:I,setLibraryStatus:T}),Object(j.jsx)(h,{isPlaying:y,currentSong:l}),Object(j.jsx)(p,{audioRef:t,setIsPlaying:S,currentSong:l,isPlaying:y,songInfo:N,setSongInfo:P,songs:r,setSongs:n,setCurrentSong:g}),Object(j.jsx)(O,{songs:r,setCurrentSong:g,audioRef:t,isPlaying:y,setSongs:n,libraryStatus:I}),Object(j.jsx)("audio",{onLoadedMetadata:z,onTimeUpdate:z,ref:t,src:l.audio,onEnded:E})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.5dad850e.chunk.js.map